// target toolsets
toolsets = gnu vs2013;

// gnu compiler options
if ($toolset == gnu)
  cxx-compiler-options = "-std=c++11";

// base library
library tls_base {
  includedirs = ../../include;
  headers {
    ../../include/base/geometric_shapes.h
    ../../include/base/helper.h
    ../../include/base/point.h
    ../../include/base/polynomial.h
    ../../include/base/units.h
    ../../include/base/vector.h
  }
  sources {
    ../../src/base/geometric_shapes.cc
    ../../src/base/helper.cc
    ../../src/base/point.cc
    ../../src/base/polynomial.cc
    ../../src/base/units.cc
    ../../src/base/vector.cc
  }
}

// transmissionline library
library tls_transmissionline {
  deps = tls_base;
  includedirs = ../../include;
  headers {
    ../../include/transmissionline/cable.h
    ../../include/transmissionline/cable_constraint.h
    ../../include/transmissionline/cable_unit_load_calculator.h
    ../../include/transmissionline/catenary.h
    ../../include/transmissionline/line_cable.h
    ../../include/transmissionline/line_cable_to_catenary_converter.h
    ../../include/transmissionline/weather_load_case.h
  }
  sources {
    ../../src/transmissionline/cable.cc
    ../../src/transmissionline/cable_constraint.cc
    ../../src/transmissionline/cable_unit_load_calculator.cc
    ../../src/transmissionline/catenary.cc
    ../../src/transmissionline/line_cable.cc
    ../../src/transmissionline/line_cable_to_catenary_converter.cc
    ../../src/transmissionline/weather_load_case.cc
  }
}

// sagtension library
library tls_sagtension {
  deps = tls_base;
  deps = tls_transmissionline;
  includedirs = ../../include;
  headers {
    ../../include/sagtension/cable_component_elongation_model.h
    ../../include/sagtension/cable_elongation_model.h
    ../../include/sagtension/cable_state.h
    ../../include/sagtension/cable_strainer.h
    ../../include/sagtension/catenary_cable.h
    ../../include/sagtension/catenary_cable_component_tension_solver.h
    ../../include/sagtension/catenary_cable_reloader.h
    ../../include/sagtension/catenary_cable_unloader.h
    ../../include/sagtension/line_cable_reloader.h
    ../../include/sagtension/line_cable_sagger.h
    ../../include/sagtension/line_cable_to_catenary_cable_converter.h
  }
  sources {
    ../../src/sagtension/cable_component_elongation_model.cc
    ../../src/sagtension/cable_elongation_model.cc
    ../../src/sagtension/cable_state.cc
    ../../src/sagtension/cable_strainer.cc
    ../../src/sagtension/catenary_cable.cc
    ../../src/sagtension/catenary_cable_component_tension_solver.cc
    ../../src/sagtension/catenary_cable_reloader.cc
    ../../src/sagtension/catenary_cable_unloader.cc
    ../../src/sagtension/line_cable_reloader.cc
    ../../src/sagtension/line_cable_sagger.cc
    ../../src/sagtension/line_cable_to_catenary_cable_converter.cc
  }
}
